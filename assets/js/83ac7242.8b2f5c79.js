"use strict";(self.webpackChunkaniapi_docs=self.webpackChunkaniapi_docs||[]).push([[763],{5715:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var a=n(5861),r=n(7757),o=n.n(r),i=n(7294),s=n(3575),c=n(6742),u="signupMain_7dkQ",l="form_iGvL",m="errors_Hbay",p="login_JVgd";function d(){var e="6Lf98EgbAAAAAHSXXQIrsL-yByCMxOHsukzOqvHV",t=(0,i.useState)(""),n=t[0],r=t[1],d=(0,i.useState)(""),f=d[0],g=d[1],h=(0,i.useState)(""),v=h[0],y=h[1],w=(0,i.useState)(""),E=w[0],b=w[1],C=(0,i.useState)(!1),k=C[0],L=C[1],x=(0,i.useState)(!1),H=x[0],P=x[1];(0,i.useEffect)((function(){!function(e,t,n){var a=document.getElementById(e);if(!a){var r=document.createElement("script");r.type="text/javascript",r.src=t,r.id=e,r.onload=function(){n&&n()},document.body.appendChild(r)}a&&n&&n()}("recaptcha-key","https://www.google.com/recaptcha/api.js?render="+e,(function(){}))}),[]);return i.createElement(s.Z,{title:"Signup"},i.createElement("main",{className:u},k?i.createElement("p",null,"Registration complete!",i.createElement("br",null),"We sent an email to ",i.createElement("b",null,n),"'s inbox for account verification purpose"):i.createElement("div",{className:l},i.createElement("img",{src:"/img/aniapi_icon.png"}),i.createElement("form",{method:"post"},i.createElement("input",{type:"text",placeholder:"Email",id:"email",onChange:function(e){return r(e.target.value)},onKeyPress:function(e){13===e.which&&document.getElementById("username").focus()},value:n}),i.createElement("input",{type:"text",placeholder:"Username",id:"username",onChange:function(e){return g(e.target.value)},onKeyPress:function(e){13===e.which&&document.getElementById("password").focus()},value:f}),i.createElement("input",{type:"password",placeholder:"Password",id:"password",autoComplete:"on",onChange:function(e){return y(e.target.value)},onKeyPress:function(e){13===e.which&&document.getElementById("password-confirm").focus()},value:v}),i.createElement("input",{type:"password",placeholder:"Confirm Password",id:"password-confirm",autoComplete:"on",onChange:function(e){return b(e.target.value)},onKeyPress:function(e){13===e.which&&document.getElementById("signup").click()},value:E}),i.createElement("div",{id:"errors",className:m}),H?i.createElement("button",{type:"button"},"..."):i.createElement("button",{type:"button",id:"signup",onClick:function(t){P(!0);var r=document.getElementById("errors");if(r.innerHTML="",!n)return r.innerHTML+="Email must not be empty",void P(!1);if(!f)return r.innerHTML+="Username must not be empty",void P(!1);if(!v)return r.innerHTML+="Password must not be empty",void P(!1);if(!E)return r.innerHTML+="Confirm Password must not be empty",void P(!1);if(v!==E)return r.innerHTML+="Passwords must match",void P(!1);var i=navigator.language||navigator.userLanguage;i.length>2&&(i=i.substring(0,2)),window.grecaptcha.ready((function(){window.grecaptcha.execute(e,{action:"submit"}).then(function(){var e=(0,a.Z)(o().mark((function e(t){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.aniapi.com/v1/user?g_recaptcha_response="+t,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n,username:f,password:v,localization:i})});case 2:return a=e.sent,e.next=5,a.json();case 5:if(200!==(s=e.sent).status_code){e.next=11;break}L(!0),P(!1),e.next=14;break;case 11:return P(!1),r.innerHTML+=s.data,e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},"Signup")),i.createElement(c.Z,{className:p,to:"/login"},"Login"))))}}}]);